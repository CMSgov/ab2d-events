pipeline {
    environment {
        ARTIFACTORY_URL = credentials('ARTIFACTORY_URL')
    }

    agent {
        label 'build'
    }

    tools {
        gradle "gradle-7.2"
        jdk 'openjdk17'
    }

    stages {

        stage ('Build files') {
           steps {
             sh 'gradle bootJar' 
             }
         }
               
        
        stage ('Build Docker Image') {
            steps {
            sh ' ./scripts/build-docker-image.sh'
            }
         }

    }
}
